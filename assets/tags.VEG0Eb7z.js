import{A as O,T as b,i as W,b as j,d as U,o as G,u as J,g as K,a as Q,c as X,l as Z,h as tt,e as et,f as nt}from"./app.rz9DXmMy.js";import{_ as at}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.DIhvz7kn.js";import"./chunks/@vueuse/motion.DUU2SdDv.js";import{a as st,u as ot}from"./animation.BL9K-of4.js";import{R as P,H as V,ac as $,ab as c,af as f,ah as S,O as e,M as C,a9 as rt,_ as t,al as s,aa as T,as as it,ae as ct,ap as lt,U as k,am as ut,ak as mt}from"./framework.BQbPDlGD.js";import{_ as pt}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.BMeICkmn.js";import{u as _t,a as ft}from"./chunks/vue-router.Brpcmowa.js";import"./chunks/dayjs.BdcnXKr1.js";import{u as gt}from"./chunks/vue-i18n.CKeRUiN6.js";import"./chunks/pinia.C-kxZwEe.js";/* empty css                    */import"./chunks/nprogress.B6x19dEb.js";import"./index.BRXJGymZ.js";function yt(o={primary:"#0078E7"}){const r=O(),l=new b("#999999"),i=new b(o.primary);return{tags:r,getTagStyle:n=>{const p=Array.from(r.value).map(([d,h])=>h.count),g=Math.max(...p),a=Math.min(...p),y=g-a,_=(n-a)/y;return{"--yun-tag-color":l.mix(i,_*100).toString(),fontSize:`${_*36+12}px`}}}}const dt={"inline-flex":""},ht={"inline-flex":"",text:"xs"},vt=P({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(o){const r=o,{$t:l}=W(),i=V();return st(i,{i:r.i||0,delay:25}),(m,n)=>(c(),$("span",{ref_key:"tagRef",ref:i,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[f("span",dt,"#"+S(e(l)(o.title)),1),f("span",ht,"["+S(o.count)+"]",1)],512))}}),xt={class:"yun-text-light",text:"center",p:"2"},Ct={class:"justify-center items-end",flex:"~ wrap",gap:"1"},Ft=P({__name:"tags",setup(o){j([U({"@type":"CollectionPage"})]);const r=_t(),l=ft(),i=G(),{t:m}=gt(),n=J(),{tags:p,getTagStyle:g}=yt({primary:i.value.colors.primary}),a=C(()=>r.query.tag||""),y=K(),_=C(()=>y.postList.filter(u=>u.tags?typeof u.tags=="string"?u.tags===a.value:u.tags.includes(a.value):!1)),d=V(),{show:h}=ot(d);function A(v){l.push({query:{tag:v}}),h()}const B=Q(n),Y=C(()=>Array.from(p.value).sort());return(v,u)=>{const E=X,w=pt,F=vt,L=rt("RouterView"),I=at,M=Z,N=tt,q=et,z=nt;return c(),$(k,null,[t(q,null,{default:s(()=>[t(E),t(L,null,{default:s(({Component:D})=>[(c(),T(it(D),null,{"main-header":s(()=>[t(w,{title:e(B)||e(m)("menu.tags"),icon:e(n).icon||"i-ri-tag-line",color:e(n).color,"page-title-class":e(n).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":s(()=>[t(lt,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:s(()=>[f("div",xt,S(e(m)("counter.tags",Y.value.length)),1)]),_:1}),f("div",Ct,[(c(!0),$(k,null,ut(Y.value,([x,R],H)=>(c(),T(F,{key:x,i:H,title:x,count:R.count,style:mt(e(g)(R.count)),onClick:Tt=>A(x.toString())},null,8,["i","title","count","style","onClick"]))),128))]),t(L)]),"main-nav-before":s(()=>[a.value?(c(),T(M,{key:0,ref_key:"collapse",ref:d,m:"t-4",w:"full"},{default:s(()=>[t(w,{title:a.value,icon:"i-ri-hashtag"},null,8,["title"]),t(I,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:_.value},null,8,["posts"])]),_:1},512)):ct("v-if",!0)]),_:1}))]),_:1}),t(N)]),_:1}),t(z)],64)}}});export{Ft as default};
